<div class="container profile-container">
    <h1 class="card-title">Create Workout</h1>
{{#if workout}}
    {{#if error}}
        <p class="error" id="error">{{error}}</p>
    {{else}}
        <p class="error,hidden" id="error"></p>
    {{/if}}
    <form class="col-md-7" action="{{formAction}}" method="POST">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <label for="workoutName">Workout Name: </label>
                    <input type="text" class="form-control" id="workoutName" name="workoutName" value="{{workout.name}}">
                </div>
                <div class="row">
                    <label for="intensity">Intensity (1-5): </label>
                    <input type="text" class="form-control" id="intensity" name="intensity" value="{{workout.intensity}}">
                </div>
                <div class="row">
                    <label for="length">Length (Minutes): </label>
                    <input type="text" class="form-control" id="length" name="length" value="{{workout.length}}">
                </div>
            </div>
        </div>
    <div class="card">
        <h2 class="card-title">Exercises</h2>
        <ul class="card-body" id="exerciseList">
            {{#each workout.exercises}}
                <li class="exercise card pb-0 px-3">
                    <h2><a class="exerciseName" href="/exercise/{{this.exerciseId}}">{{this.name}}</a></h2>
                    <button type="button" class="deleteExercise btn btn-danger" style="width: 200px">Delete</button>
                    <div>
                        <label for="{{this.exerciseId}}_sets">Sets: </label>
                        <input class="form-control md-2" id="{{this.exerciseId}}_sets" name="{{this.exerciseId}}_sets" value="{{this.sets}}">
                    </div>
                    <div>
                        <label for="{{this.exerciseId}}_repetitions">Repetitions: </label>
                        <input class="form-control md-2" id="{{this.exerciseId}}_repetitions" name="{{this.exerciseId}}_repetitions" value="{{this.repetitions}}">
                    </div>
                    <div>
                        <label for="{{this.exerciseId}}_rest">Rest: </label>
                        <input class="form-control md-2" id="{{this.exerciseId}}_rest" name="{{this.exerciseId}}_rest" value="{{this.rest}}">
                    </div>
                    <div>
                        <label for="{{this.exerciseId}}_weight">Weight: </label>
                        {{#if this.weight}}
                            <input class="form-control md-2" id="{{this.exerciseId}}_weight" name="{{this.exerciseId}}_weight" value="{{this.weight}}">
                        {{else}}
                            <input class="form-control md-2" id="{{this.exerciseId}}_weight" name="{{this.exerciseId}}_weight">
                        {{/if}}
                    </div>
                    <div>
                        <label for="{{this.exerciseId}}_comment">Comment: </label>
                        <input class="form-control md-2" id="{{this.exerciseId}}_comment" name="{{this.exerciseId}}_comment" value="{{this.comment}}">
                    </div>
                </li>
            {{/each}}
        </ul>
    </div>
    <div class="card-body">
        <input type="hidden" id="exercises" class="row {{exerciseIdString}}">
        <button type="Submit" class="row btn btn-primary">{{submitButtonText}}</button>
    </div>
</form>
<div class="card">
    <div class="card-body">
        <button type="button" id="addExercise" class="btn btn-info">Add Exercise</button>
        <a href="/exercises/new" rel="noopener noreferrer" class="btn btn-info" target="_blank">Create Exercise</a>
        <div>
            <label for="exerciseSearchBar"></label>
            <input type="text" id="exerciseSearchBar" name="exerciseSearchBar" class="hidden" placeholder="Search exercises...">
        </div>
        <ul id="exerciseSearchResults"></ul>
    </div>
</div>
<script type="module" src="/public/js/workouts/workoutForm.js"></script>
{{else}}
    {{#if error}}
        <p class="error">{{error}}</p>
    {{else}}
        <p class="error">Error while rendering page</p>
    {{/if}}
{{/if}}
</div>